(this["webpackJsonpwould-you-rather"]=this["webpackJsonpwould-you-rather"]||[]).push([[0],{201:function(e,t,a){e.exports=a(344)},206:function(e,t,a){},207:function(e,t,a){},344:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),i=a.n(o),c=(a(206),a(17)),s=a(18),u=a(22),l=a(23),m=(a(207),a(28)),d=a(355),h=a(24),p=a.n(h),v=a(191),g=a(189),f=a(65),b=a(88),y=a.n(b),E=a(21);var w=function(e){var t=e.isLoading,a=e.authenticatedUser,n=e.signOut;return r.a.createElement(v.a,{size:"large",secondary:!0},r.a.createElement(v.a.Item,null,r.a.createElement(g.a,{src:y.a,size:"mini",alt:"would you rather application logo",className:t?"spin":""})),!a&&r.a.createElement(v.a.Item,{header:!0},"Would you rather?"),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a.Item,{header:!0},r.a.createElement(g.a,{src:a.avatarURL,size:"mini",spaced:"right",avatar:!0,alt:"avatar of ".concat(a.name)}),"Hello, ".concat(a.name)),r.a.createElement(v.a.Item,{as:E.d,to:"/",exact:!0,activeClassName:"active",name:"home"}),r.a.createElement(v.a.Item,{as:E.d,to:"/new",exact:!0,activeClassName:"active",name:"New Question"}),r.a.createElement(v.a.Item,{as:E.d,to:"/leaderboard",exact:!0,activeClassName:"active",name:"Leader Board"})),r.a.createElement(v.a.Menu,{position:"right"},a&&r.a.createElement(v.a.Item,{onClick:function(){n()},name:"sign-out"},r.a.createElement(f.a,{name:"sign-out"}),"Sign out"),!a&&r.a.createElement(v.a.Item,{as:E.d,to:"/login",exact:!0,activeClassName:"active",name:"sign-in",icon:"sign-in",text:"Sign In"})))},O=a(350),j=a(352);var x=function(e){var t=e.isLoading,a=e.authenticatedUser,n=e.signOut;return r.a.createElement(v.a,{size:"large",secondary:!0},r.a.createElement(v.a.Item,null,r.a.createElement(g.a,{src:y.a,size:"mini",alt:"would you rather application logo",className:t?"spin":""})),!a&&r.a.createElement(v.a.Item,{header:!0},"Would you rather?"),a&&r.a.createElement(v.a.Item,{header:!0},r.a.createElement(g.a,{src:a.avatarURL,size:"mini",spaced:"right",avatar:!0,alt:"avatar of ".concat(a.name)}),"Hello, ".concat(a.name)),r.a.createElement(v.a.Menu,{position:"right"},r.a.createElement(O.a,{icon:"bars",as:j.a,secondary:!0,size:"large",className:"icon"},r.a.createElement(O.a.Menu,null,a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a.Item,{as:E.d,to:"/",exact:!0,activeClassName:"active",name:"home"},"Home"),r.a.createElement(O.a.Item,{as:E.d,to:"/new",exact:!0,activeClassName:"active",name:"New Question"},"New Question"),r.a.createElement(O.a.Item,{as:E.d,to:"/leaderboard",exact:!0,activeClassName:"active",name:"Leader Board"},"Leader Board"),r.a.createElement(O.a.Divider,null),r.a.createElement(O.a.Item,{onClick:function(){n()},icon:"sign-out",text:"Sign Out"})),!a&&r.a.createElement(O.a.Item,{as:E.d,to:"/login",exact:!0,activeClassName:"active",name:"sign-in",icon:"sign-in",text:"Sign In"})))))},k=a(190),U=a(48),I={molly:{id:"molly",name:"Molly",avatarURL:"https://semantic-ui.com/images/avatar2/large/molly.png",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},matthew:{id:"matthew",name:"Matthew",avatarURL:"https://semantic-ui.com/images/avatar2/large/matthew.png",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},elyse:{id:"elyse",name:"Elyse",avatarURL:"https://semantic-ui.com/images/avatar2/large/elyse.png",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},q={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"molly",timestamp:1467166872634,optionOne:{votes:["molly"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"matthew",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["matthew","molly"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"molly",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["molly"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"elyse",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["molly"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"elyse",timestamp:1489579767190,optionOne:{votes:["elyse"],text:"find $50 yourself"},optionTwo:{votes:["matthew"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"matthew",timestamp:1493579767190,optionOne:{votes:["matthew"],text:"write JavaScript"},optionTwo:{votes:["elyse"],text:"write Swift"}}},C=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"generateUID",value:function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}},{key:"getUsers",value:function(){return new Promise((function(e,t){setTimeout((function(){return e(Object(U.a)({},I))}),1e3)}))}},{key:"getQuestions",value:function(){return new Promise((function(e,t){setTimeout((function(){return e(Object(U.a)({},q))}),1e3)}))}},{key:"signIn",value:function(e){return new Promise((function(t,a){for(var n in I)if(n===e)return void setTimeout((function(){return t(e)}),1e3);a("Invalid user!")}))}},{key:"formatQuestion",value:function(t){var a=t.optionOneText,n=t.optionTwoText,r=t.author;return{id:e.generateUID(),timestamp:Date.now(),author:r,optionOne:{votes:[],text:a},optionTwo:{votes:[],text:n}}}},{key:"saveQuestion",value:function(t){return new Promise((function(a,n){try{var r=t.author,o=e.formatQuestion(t);setTimeout((function(){q[o.id]=o,I[r].questions.concat([o.id]),a(o)}),1e3)}catch(i){n(i)}}))}},{key:"saveQuestionAnswer",value:function(e){var t=e.authenticatedUser,a=e.qid,n=e.answer;return new Promise((function(e,r){try{setTimeout((function(){I[t].answers[a]=n,q[a][n].votes.concat([t]),e()}),500)}catch(o){r(o)}}))}}]),e}(),z=function(){function e(){Object(c.a)(this,e)}return Object(s.a)(e,null,[{key:"getInitialData",value:function(){return Promise.all([C.getUsers(),C.getQuestions()]).then((function(e){var t=Object(k.a)(e,2);return{users:t[0],questions:t[1]}}))}},{key:"getUsers",value:function(){return C.getUsers()}},{key:"signIn",value:function(e){return C.signIn(e)}},{key:"getQuestions",value:function(){return C.getQuestions()}},{key:"generateQuestionBasicCardInfo",value:function(e,t,a,n){if(!(a&&n&&t&&n[t]&&n[t].optionOne&&n[t].optionTwo&&n[t].author))return{};var r=n[t],o=a[r.author],i=n[t][a[e].answers[t]];return{questionId:t,optionOne:r.optionOne.text,optionTwo:r.optionTwo.text,authenticatedUserAnswer:i?i.text:"",authorId:r.author,authorName:o.name,authorAvatar:o.avatarURL}}}]),e}(),T="SET_AUTHENTICATED_USER";function L(e){return{type:T,authenticatedUser:e}}var N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"signOut",value:function(){(0,this.props.dispatch)(L(null))}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.authenticatedUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{style:{backgroundColor:"rgb(97,218,251)"}}),r.a.createElement(d.a,{minWidth:768},r.a.createElement(w,{authenticatedUser:a,isLoading:t,signOut:this.signOut.bind(this)})),r.a.createElement(d.a,{maxWidth:767},r.a.createElement(x,{authenticatedUser:a,isLoading:t,signOut:this.signOut.bind(this)})))}}]),a}(n.Component);var A=Object(m.connect)((function(e){var t=e.authenticatedUser,a=e.users,n=e.loadingBar;return{authenticatedUser:a?a[t]:null,isLoading:n.default}}))(N),S=a(127);var Q=function(){return r.a.createElement("span",{className:"copy-right"},"copyright \xa9 2020 all rights reserved by",r.a.createElement("a",{href:"https://www.seanroshan.com",rel:"noopener noreferrer",target:"_blank",className:"copy-right-link"},"Sean Roshan"))},R=a(42),P=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Compose Component!"))}}]),a}(n.Component),B=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Leaderboard Component!"))}}]),a}(n.Component),W="RECEIVE_USERS";function M(e){return{type:W,users:e}}var D=a(354),H=a(93),_=a(353),F=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch;e.users;t((function(e){e(Object(h.showLoading)()),z.getUsers().then((function(t){e(M(t)),e(Object(h.hideLoading)())}))}))}},{key:"signIn",value:function(e){var t;(0,this.props.dispatch)((t=e,function(e){e(Object(h.showLoading)()),z.signIn(t).then((function(){e(L(t))})).catch((function(e){alert(e)})).finally((function(){e(Object(h.hideLoading)())}))}))}},{key:"render",value:function(){var e=this,t="Welcome to the Would You Rather App!",n=this.props.users,o=a.initializeUserOptions(n);return r.a.createElement(D.a,{fluid:!0,color:"grey"},r.a.createElement(H.a,{textAlign:"center",style:{backgroundColor:"rgba(220,220,220,0.5)",padding:"10px"}},r.a.createElement(d.a,{minWidth:"401",as:_.a,size:"medium"},t),r.a.createElement(d.a,{maxWidth:"400",as:_.a,size:"small"},t),r.a.createElement(_.a,{size:"tiny"},"Please sign in to continue")),r.a.createElement(D.a.Content,{textAlign:"center"},r.a.createElement(g.a,{src:"https://s3-us-west-2.amazonaws.com/asset.plexuss.com/news/images/would-you-rather-school-edition-lg.jpg",size:"large",alt:"would you rather login image"}),r.a.createElement(_.a,{size:"huge",color:"black"},"Sign in"),r.a.createElement(O.a,{text:"Select User",icon:"user",floating:!0,labeled:!0,button:!0,className:"icon"},r.a.createElement(O.a.Menu,null,r.a.createElement(O.a.Header,{content:"Please select a user to sign in"}),o&&o.length&&o.map((function(t){return r.a.createElement(O.a.Item,Object.assign({key:t.value,onClick:function(){return e.signIn(t.key)}},t))}))))))}}],[{key:"initializeUserOptions",value:function(e){return e?Object.keys(e).map((function(t){var a=e[t];return{key:t,text:a.name,value:a.id,image:{avatar:!0,src:a.avatarURL}}})):[]}}]),a}(n.Component);var J=Object(m.connect)((function(e){return{users:e.users}}))(F),V="RECEIVE_QUESTIONS";function $(e){return{type:V,questions:e}}var Y=a(98),G=a(192),K=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.questionCard,t=e.authorName,a=e.authorAvatar,n=e.optionOne,o=e.optionTwo,i=e.authenticatedUserAnswer;return r.a.createElement(D.a,{fluid:!0},r.a.createElement(D.a.Content,{header:"".concat(t," asks:")}),r.a.createElement(Y.a,null,r.a.createElement(G.a,{celled:!0,columns:2},r.a.createElement(G.a.Column,{verticalAlign:"middle",textAlign:"center"},r.a.createElement(g.a,{src:a,size:"small",circular:!0})),r.a.createElement(G.a.Column,{verticalAlign:"top"},r.a.createElement(_.a,{textAlign:"left",size:"medium"},"Would you rather?"),r.a.createElement(_.a,{textAlign:"left",size:"small"},"".concat(n)),r.a.createElement(_.a,{textAlign:"left",size:"small"},"Or"),r.a.createElement(_.a,{textAlign:"left",size:"small"},"".concat(o)),i&&r.a.createElement(_.a,{textAlign:"left",size:"large",color:"blue"},"Your Answer: ".concat(i))))),r.a.createElement(j.a,{secondary:!0,attached:"top",as:E.c,to:"/questions/".concat(e.questionId)},"View Poll"))}}]),a}(n.Component);var X=Object(m.connect)((function(e,t){return{authenticatedUser:e.authenticatedUser,questionCard:t.questionCard}}))(K),Z=a(351);var ee=function(e){var t=e.questionCards;return t&&t.length?t.map((function(e){return r.a.createElement(X,{key:e.questionId,questionCard:e})})):r.a.createElement(Z.a,{negative:!0},r.a.createElement(Z.a.Header,null,"Empty list!"))},te=a(356),ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch((function(e){e(Object(h.showLoading)()),z.getInitialData().then((function(t){var a=t.users,n=t.questions;e(M(a)),e($(n)),e(Object(h.hideLoading)())}))}))}},{key:"render",value:function(){var e=this.props,t=e.questions,a=e.users,n=e.authenticatedUser,o=e.loading,i=t?Object.keys(t).sort((function(e,a){return t[a].timestamp-t[e].timestamp})).map((function(e){return z.generateQuestionBasicCardInfo(n,e,a,t)})):[],c=i.filter((function(e){return e.authenticatedUserAnswer})),s=i.filter((function(e){return!e.authenticatedUserAnswer})),u=[{menuItem:"Unanswered Questions",key:"unansweredList",render:function(){return r.a.createElement(te.a.Pane,{loading:o},r.a.createElement(ee,{questionCards:s}))}},{menuItem:"Answered Questions",key:"answeredList",render:function(){return r.a.createElement(te.a.Pane,{loading:o},r.a.createElement(ee,{questionCards:c}))}}];return r.a.createElement(te.a,{panes:u})}}]),a}(n.Component);var ne=Object(m.connect)((function(e){var t=e.authenticatedUser,a=e.users,n=e.questions;return{loading:!!e.loadingBar.default,questions:n,authenticatedUser:t,users:a}}))(ae),re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.authenticatedUser;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.b,{path:"/",exact:!0,render:function(){return e?r.a.createElement(ne,null):r.a.createElement(R.a,{to:"/login"})}}),r.a.createElement(R.b,{path:"/new",render:function(){return e?r.a.createElement(P,null):r.a.createElement(R.a,{to:"/login"})}}),r.a.createElement(R.b,{path:"/leaderboard",render:function(){return e?r.a.createElement(B,null):r.a.createElement(R.a,{to:"/login"})}}),r.a.createElement(R.b,{path:"/login",render:function(){return e?r.a.createElement(R.a,{to:"/"}):r.a.createElement(J,null)}}))}}]),a}(n.Component);var oe=Object(m.connect)((function(e){return{authenticatedUser:e.authenticatedUser}}))(re),ie=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(E.b,{basename:"/"},r.a.createElement("div",{className:"header"},r.a.createElement(A,null)),r.a.createElement(S.a,{className:"app-content-container"},r.a.createElement(oe,null)),r.a.createElement("div",{className:"app-footer-container"},r.a.createElement(Q,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ce=a(40);var se=Object(ce.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(U.a)({},e,{},t.users);default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(U.a)({},e,{},t.questions);default:return e}},authenticatedUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return t.authenticatedUser;default:return e}},loadingBar:h.loadingBarReducer}),ue=a(188),le=function(e){return function(t){return function(a){console.group(a.type),console.log("The action: ",a);var n=t(a);return console.log("The new state: ",e.getState()),console.groupEnd(),n}}},me=Object(ce.a)(ue.a,le),de=Object(ce.d)(se,me);i.a.render(r.a.createElement(m.Provider,{store:de},r.a.createElement(E.a,null,r.a.createElement(ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"}},[[201,1,2]]]);
//# sourceMappingURL=main.92cbbbc1.chunk.js.map